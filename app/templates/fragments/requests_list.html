{% if requests %}
<div style="display: flex; flex-direction: column; gap: 1rem;">
     {% for req_data in requests %}
     <div class="card" id="request-card-{{ req_data.item.id }}">
          <div class="card-body" style="display: flex; gap: 1.5rem; align-items: center;">
               <div
                    style="width: 80px; height: 80px; background: #f3f4f6; border-radius: 0.5rem; flex-shrink: 0; overflow: hidden;">
                    {% if req_data.item.photo_url %}
                    <img src="{{ req_data.item.photo_url }}" style="width: 100%; height: 100%; object-fit: cover;">
                    {% endif %}
               </div>

               <div style="flex: 1;">
                    <h3 style="margin-bottom: 0.25rem;">{{ req_data.item.title }}</h3>
                    <p style="margin: 0; color: var(--text-muted);">
                         Requested by: <a href="mailto:{{ req_data.request.requester_email }}"
                              style="color: var(--primary-green);">{{ req_data.request.requester_email }}</a>
                    </p>
               </div>

               <div style="display: flex; gap: 0.5rem;">
                    <a href="mailto:{{ req_data.request.requester_email }}?subject=Re: {{ req_data.item.title }}"
                         class="btn btn-outline">
                         Contact Requester
                    </a>
                    {% if not req_data.item.is_claimed %}
                    <button class="btn btn-primary" hx-post="/fragments/items/mark-claimed/{{ req_data.item.id }}"
                         hx-target="#request-card-{{ req_data.item.id }}" hx-swap="outerHTML">
                         Mark as Claimed
                    </button>
                    {% else %}
                    <span class="badge">Claimed</span>
                    {% endif %}

                    <button class="btn btn-outline" style="color: #ef4444; border-color: #ef4444;"
                         hx-delete="/api/v1/items/{{ req_data.item.id }}"
                         hx-confirm="Are you sure you want to delete this item?"
                         hx-target="#request-card-{{ req_data.item.id }}" hx-swap="outerHTML">
                         Delete
                    </button>
               </div>
          </div>
     </div>
     {% endfor %}
</div>
{% else %}
<div class="text-center"
     style="padding: 3rem; background: white; border-radius: var(--radius); border: 1px solid var(--border-color);">
     <div style="font-size: 2rem; margin-bottom: 1rem;">ðŸ“¥</div>
     <h3>No pending requests</h3>
     <p style="color: var(--text-muted);">When students request your items, they will appear here.</p>
</div>
{% endif %}